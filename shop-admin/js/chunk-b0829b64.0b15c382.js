(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b0829b64"],{"0d7a":function(t,e,a){"use strict";var n=a("b2a2"),s=a("8a1c"),r=a("857c"),o=a("2732"),i=a("ef4c"),l=a("38eb"),c=a("d88d"),u=a("59da"),d=a("5139"),h=a("efe2"),p=[].push,m=Math.min,f=4294967295,v=!h((function(){return!RegExp(f,"y")}));n("split",2,(function(t,e,a){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var n=String(o(this)),r=void 0===a?f:a>>>0;if(0===r)return[];if(void 0===t)return[n];if(!s(t))return e.call(n,t,r);var i,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=new RegExp(t.source,h+"g");while(i=d.call(v,n)){if(l=v.lastIndex,l>m&&(u.push(n.slice(m,i.index)),i.length>1&&i.index<n.length&&p.apply(u,i.slice(1)),c=i[0].length,m=l,u.length>=r))break;v.lastIndex===i.index&&v.lastIndex++}return m===n.length?!c&&v.test("")||u.push(""):u.push(n.slice(m)),u.length>r?u.slice(0,r):u}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=o(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,s,a):n.call(String(s),e,a)},function(t,s){var o=a(n,t,this,s,n!==e);if(o.done)return o.value;var d=r(t),h=String(this),p=i(d,RegExp),g=d.unicode,b=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),x=new p(v?d:"^(?:"+d.source+")",b),_=void 0===s?f:s>>>0;if(0===_)return[];if(0===h.length)return null===u(x,h)?[h]:[];var w=0,C=0,$=[];while(C<h.length){x.lastIndex=v?C:0;var y,E=u(x,v?h:h.slice(C));if(null===E||(y=m(c(x.lastIndex+(v?0:C)),h.length))===w)C=l(h,C,g);else{if($.push(h.slice(w,C)),$.length===_)return $;for(var F=1;F<=E.length-1;F++)if($.push(E[F]),$.length===_)return $;C=w=y}}return $.push(h.slice(w)),$}]}),!v)},"22ef":function(t,e,a){"use strict";var n=a("efe2");function s(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=n((function(){var t=s("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=n((function(){var t=s("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},2332:function(t,e,a){},3682:function(t,e,a){},"38eb":function(t,e,a){"use strict";var n=a("f62c").charAt;t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},"4073d":function(t,e,a){},5139:function(t,e,a){"use strict";var n=a("99ad"),s=a("22ef"),r=RegExp.prototype.exec,o=String.prototype.replace,i=r,l=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=s.UNSUPPORTED_Y||s.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(i=function(t){var e,a,s,i,d=this,h=c&&d.sticky,p=n.call(d),m=d.source,f=0,v=t;return h&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(m="(?: "+m+")",v=" "+v,f++),a=new RegExp("^(?:"+m+")",p)),u&&(a=new RegExp("^"+m+"$(?!\\s)",p)),l&&(e=d.lastIndex),s=r.call(h?a:d,v),h?s?(s.input=s.input.slice(f),s[0]=s[0].slice(f),s.index=d.lastIndex,d.lastIndex+=s[0].length):d.lastIndex=0:l&&s&&(d.lastIndex=d.global?s.index+s[0].length:e),u&&s&&s.length>1&&o.call(s[0],a,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(s[i]=void 0)})),s}),t.exports=i},5505:function(t,e,a){"use strict";var n=a("4073d"),s=a.n(n);s.a},"59da":function(t,e,a){var n=a("2118"),s=a("5139");t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var r=a.call(t,e);if("object"!==typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(t))throw TypeError("RegExp#exec called on incompatible receiver");return s.call(t,e)}},"63f0":function(t,e,a){},"6a6b":function(t,e,a){"use strict";var n=a("63f0"),s=a.n(n);s.a},7412:function(t,e,a){},7546:function(t,e,a){"use strict";var n=a("7412"),s=a.n(n);s.a},"80ba":function(t,e,a){"use strict";var n=a("9431"),s=a.n(n);s.a},"8a1c":function(t,e,a){var n=a("a719"),s=a("2118"),r=a("90fb"),o=r("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==s(t))}},9302:function(t,e,a){"use strict";var n=a("1c8b"),s=a("692f"),r=a("da10"),o=a("d7e1"),i=[].join,l=s!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(t){return i.call(r(this),void 0===t?",":t)}})},9431:function(t,e,a){},"99ad":function(t,e,a){"use strict";var n=a("857c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"9da1":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",[a("div",{staticClass:"container"},[a("div",{staticClass:"top"},[a("el-alert",{attrs:{title:"添加商品信息",type:"info",center:"","show-icon":"",closable:!1}}),a("div",{staticClass:"steps"},[a("el-steps",{attrs:{active:t.active,"finish-status":"success"}},[a("el-step",{attrs:{title:"基本信息"}}),a("el-step",{attrs:{title:"商品参数"}}),a("el-step",{attrs:{title:"商品属性"}}),a("el-step",{attrs:{title:"商品图片"}}),a("el-step",{attrs:{title:"商品内容"}}),a("el-step",{attrs:{title:"完成"}})],1)],1)],1),a("div",{staticClass:"bot el__tab"},[a("div",{staticClass:"tabs"},[a("el-tabs",{staticStyle:{height:"200px"},attrs:{"tab-position":"left",value:String(t.active)},on:{"tab-click":t.clickTab}},[a("el-tab-pane",{attrs:{label:"基本信息"}},[a("div",{staticStyle:{"margin-left":"15px"}},[a("base-info",{directives:[{name:"show",rawName:"v-show",value:0===t.active,expression:"active === 0"}],on:{next:t.next}})],1)]),a("el-tab-pane",{attrs:{label:"商品参数",disabled:!1===t.showParams}},[1===t.active?a("good-params",{on:{next:t.next}}):t._e()],1),a("el-tab-pane",{attrs:{label:"商品属性",disabled:!1===t.showAttr}},[a("good-attr",{directives:[{name:"show",rawName:"v-show",value:2===t.active,expression:"active === 2"}],on:{next:t.next}})],1),a("el-tab-pane",{attrs:{label:"商品图片",disabled:!1===t.showPic}},[3===t.active?a("upload-pic",{on:{next:t.next}}):t._e()],1),a("el-tab-pane",{attrs:{label:"商品内容",disabled:!1===t.showContent}},[4===t.active?a("good-content"):t._e()],1)],1)],1)])])])],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"name"}},[a("el-input",{model:{value:t.ruleForm.name,callback:function(e){t.$set(t.ruleForm,"name",e)},expression:"ruleForm.name"}})],1),a("el-form-item",{attrs:{label:"商品价格",prop:"price"}},[a("el-input",{attrs:{type:"number",disabled:""===t.ruleForm.name},model:{value:t.ruleForm.price,callback:function(e){t.$set(t.ruleForm,"price",e)},expression:"ruleForm.price"}})],1),a("el-form-item",{attrs:{label:"商品重量",prop:"weight"}},[a("el-input",{attrs:{type:"number",disabled:""===t.ruleForm.name||""===t.ruleForm.price},model:{value:t.ruleForm.weight,callback:function(e){t.$set(t.ruleForm,"weight",t._n(e))},expression:"ruleForm.weight"}})],1),a("el-form-item",{attrs:{label:"商品数量",prop:"number"}},[a("el-input",{attrs:{type:"number",disabled:""===t.ruleForm.name||""===t.ruleForm.price||""===t.ruleForm.weight},model:{value:t.ruleForm.number,callback:function(e){t.$set(t.ruleForm,"number",t._n(e))},expression:"ruleForm.number"}})],1),a("el-form-item",{attrs:{label:"商品分类",prop:"category"}},[a("el-cascader",{staticStyle:{width:"30%"},attrs:{options:t.selectList,expandTrigger:"hover",props:t.selectProps,clearable:"",disabled:""===t.ruleForm.name||""===t.ruleForm.price||""===t.ruleForm.weight||""===t.ruleForm.number},on:{change:t.handleChange},model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}})],1),a("el-form-item",[""!==t.ruleForm.name&&""!==t.ruleForm.price&&""!==t.ruleForm.weight&&""!==t.ruleForm.number&&t.selectValue.length>0?a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.next}},[t._v("下一步")]):t._e()],1)],1)],1)},o=[],i=(a("053b"),{name:"baseInfo",props:{},data:function(){return{ruleForm:{name:"",price:"",weight:"",number:""},selectList:[],selectValue:[],rules:{name:[{required:!0,message:"商品名称不能为空",trigger:"blur"}],price:[{required:!0,message:"商品价格不能为空",trigger:"blur"}],weight:[{required:!0,message:"商品重量不能为空",trigger:"blur"}],number:[{required:!0,message:"商品数量不能为空",trigger:"blur"}]},selectProps:{value:"cat_id",label:"cat_name",children:"children"}}},components:{},methods:{getData:function(){var t=this;this.$api.getCategory({type:3}).then((function(e){200===e.meta.status&&(t.selectList=e.data)})).catch((function(t){console.log(t)}))},handleChange:function(){},next:function(){this.$store.state.addGood.goods_name=this.ruleForm.name,this.$store.state.addGood.goods_price=this.ruleForm.price,this.$store.state.addGood.goods_number=this.ruleForm.number,this.$store.state.addGood.goods_weight=this.ruleForm.weight,this.$store.state.addGood.goods_cat=this.selectValue,this.$emit("next",1),this.$store.state.showParams=!0}},mounted:function(){this.getData()},watch:{},computed:{}}),l=i,c=(a("7546"),a("9ca4")),u=Object(c["a"])(l,r,o,!1,null,"28664a16",null),d=u.exports,h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._l(t.params,(function(e,n){return a("div",{key:n,staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(e.attr_name))]),a("div",{staticClass:"tags"},[e.attr_vals.length>0?a("div",t._l(e.attr_vals,(function(e,n){return a("el-tag",{key:n,staticClass:"tag"},[t._v(t._s(e))])})),1):a("div",{staticClass:"noData"},[t._v(" 暂无属性 ")])])])})),a("div",{staticClass:"btn"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:t.next}},[t._v("下一步")])],1)],2)},p=[],m=(a("9302"),a("2eeb"),a("e35a"),a("0d7a"),{data:function(){return{sel:"many",params:[]}},components:{},methods:{getData:function(){var t=this;this.$api.getAttrs({id:this.goodsCat[this.goodsCat.length-1],sel:this.sel}).then((function(e){200===e.meta.status&&(e.data.map((function(t){t.attr_vals=t.attr_vals.length>0?t.attr_vals.split(" "):[]})),t.params=e.data)})).catch((function(t){console.log(t)}))},next:function(){var t=this;this.params.map((function(e){e.attr_id,e.attr_vals.join(" ");t.$store.state.addGood.attrs.push(e),t.$store.state.showAttr=!0})),this.$emit("next",1)}},mounted:function(){this.goodsCat.length>0&&this.getData()},watch:{},computed:{goodsCat:function(){return this.$store.state.addGood.goods_cat}}}),f=m,v=(a("5505"),Object(c["a"])(f,h,p,!1,null,"cde2893a",null)),g=v.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t.attrs.length>0?a("div",t._l(t.attrs,(function(e,n){return a("div",{key:n,staticClass:"content"},[a("div",{staticClass:"title"},[t._v(t._s(e.attr_name))]),a("el-input",{model:{value:e.attr_vals,callback:function(a){t.$set(e,"attr_vals",a)},expression:"item.attr_vals"}})],1)})),0):a("div",{staticClass:"noData"},[t._v("暂无属性")])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{size:"small",type:"success"},on:{click:t.next}},[t._v("下一步")])],1)])},x=[],_={data:function(){return{sel:"only",attrs:[]}},components:{},methods:{getData:function(){var t=this;this.$api.getAttrs({id:this.goodsCat[this.goodsCat.length-1],sel:this.sel}).then((function(e){200===e.meta.status&&(t.attrs=e.data)}))},next:function(){var t=this;this.attrs.map((function(e){e.attr_id,e.attr_vals;t.$store.state.addGood.attrs.push(e)})),this.$emit("next",1),this.$store.state.showPic=!0}},mounted:function(){this.goodsCat.length>0&&this.getData()},watch:{},computed:{goodsCat:function(){return this.$store.state.addGood.goods_cat}}},w=_,C=(a("ea5c"),Object(c["a"])(w,b,x,!1,null,"1c1cb857",null)),$=C.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"/api/upload",multiple:"",headers:t.headers,"on-success":t.success}},[a("i",{staticClass:"el-icon-upload"}),a("div",{staticClass:"el-upload__text"},[t._v(" 将文件拖到此处，或 "),a("em",[t._v("点击上传")])]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])]),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"success"},on:{click:t.next}},[t._v("下一步")])],1)],1)},E=[],F={data:function(){return{headers:{}}},components:{},methods:{success:function(t){if(200===t.meta.status){var e={pic:t.data.tmp_path};this.$store.state.addGood.pics.push(e)}},next:function(){this.$emit("next",1),this.$store.state.showContent=!0}},mounted:function(){var t=JSON.parse(localStorage.adminUser).token;this.headers={Authorization:t}},watch:{},computed:{addGood:function(){return this.$store.state.addGood}}},G=F,k=(a("efdc"),Object(c["a"])(G,y,E,!1,null,"5b4cb683",null)),R=k.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("div",[a("mavon-editor",{model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("div",{staticClass:"btn"},[a("el-button",{attrs:{type:"success"},on:{click:t.submit}},[t._v("提交")])],1)])},I=[],P={data:function(){return{value:""}},components:{},methods:{submit:function(){var t=this;this.addGood.goods_introduce=this.value,this.$api.addGoods({goods_name:this.addGood.goods_name,goods_cat:this.addGood.goods_cat.join(","),goods_price:this.addGood.goods_price,goods_number:this.addGood.goods_number,goods_weight:this.addGood.goods_weight,goods_introduce:this.addGood.goods_introduce,pics:this.addGood.pics,attrs:this.addGood.attrs}).then((function(e){201===e.meta.status?(t.$message.success(e.meta.msg),t.$router.push("/goods/goods")):t.$message.error(e.meta.msg)})).catch((function(t){console.log(t)}))}},mounted:function(){},watch:{},computed:{addGood:function(){return this.$store.state.addGood}}},S=P,j=(a("6a6b"),Object(c["a"])(S,A,I,!1,null,"19670f7a",null)),O=j.exports,T={name:"addGoods",data:function(){return{active:0}},components:{BaseInfo:d,GoodParams:g,GoodAttr:$,UploadPic:R,GoodContent:O},methods:{next:function(t){this.active+=t},clickTab:function(t){this.active=1*t.index}},mounted:function(){},watch:{},computed:{showParams:function(){return this.$store.state.showParams},showAttr:function(){return this.$store.state.showAttr},showPic:function(){return this.$store.state.showPic},showContent:function(){return this.$store.state.showContent}}},D=T,U=(a("80ba"),Object(c["a"])(D,n,s,!1,null,"57daa38f",null));e["default"]=U.exports},b2a2:function(t,e,a){"use strict";a("e35a");var n=a("1944"),s=a("efe2"),r=a("90fb"),o=a("5139"),i=a("0fc1"),l=r("species"),c=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=r("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),p=!s((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2!==a.length||"a"!==a[0]||"b"!==a[1]}));t.exports=function(t,e,a,d){var m=r(t),f=!s((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),v=f&&!s((function(){var e=!1,a=/a/;return"split"===t&&(a={},a.constructor={},a.constructor[l]=function(){return a},a.flags="",a[m]=/./[m]),a.exec=function(){return e=!0,null},a[m](""),!e}));if(!f||!v||"replace"===t&&(!c||!u||h)||"split"===t&&!p){var g=/./[m],b=a(m,""[t],(function(t,e,a,n,s){return e.exec===o?f&&!s?{done:!0,value:g.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),x=b[0],_=b[1];n(String.prototype,t,x),n(RegExp.prototype,m,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}d&&i(RegExp.prototype[m],"sham",!0)}},e35a:function(t,e,a){"use strict";var n=a("1c8b"),s=a("5139");n({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ea5c:function(t,e,a){"use strict";var n=a("2332"),s=a.n(n);s.a},efdc:function(t,e,a){"use strict";var n=a("3682"),s=a.n(n);s.a},f62c:function(t,e,a){var n=a("3da3"),s=a("2732"),r=function(t){return function(e,a){var r,o,i=String(s(e)),l=n(a),c=i.length;return l<0||l>=c?t?"":void 0:(r=i.charCodeAt(l),r<55296||r>56319||l+1===c||(o=i.charCodeAt(l+1))<56320||o>57343?t?i.charAt(l):r:t?i.slice(l,l+2):o-56320+(r-55296<<10)+65536)}};t.exports={codeAt:r(!1),charAt:r(!0)}}}]);